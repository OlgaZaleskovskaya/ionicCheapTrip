(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var i=e("A36C"),r=e("iWo5"),s=e("qULd");const o=(t,n)=>{let e,o;const a=(t,i,r)=>{if("undefined"==typeof document)return;const s=document.elementFromPoint(t,i);s&&n(s)?s!==e&&(l(),c(s,r)):l()},c=(t,n)=>{e=t,o||(o=e);const r=e;Object(i.f)(()=>r.classList.add("ion-activated")),n()},l=(t=!1)=>{if(!e)return;const n=e;Object(i.f)(()=>n.classList.remove("ion-activated")),t&&o!==e&&e.click(),e=void 0};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>a(t.currentX,t.currentY,s.a),onMove:t=>a(t.currentX,t.currentY,s.b),onEnd:()=>{l(!0),Object(s.e)(),o=void 0}})}},"74mu":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return a}));const i=(t,n)=>null!==n.closest(t),r=(t,n)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},n):n,s=t=>{const n={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>n[t]=!0),n},o=/^[a-z][a-z0-9+\-.]*:/,a=async(t,n,e,i)=>{if(null!=t&&"#"!==t[0]&&!o.test(t)){const r=document.querySelector("ion-router");if(r)return null!=n&&n.preventDefault(),r.push(t,e,i)}return!1}},PCNd:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var i=e("ofXK"),r=e("TEn/"),s=e("fXoL");let o=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(n){return new(n||t)},imports:[[i.b,r.K]]}),t})()},Qe3P:function(t,n,e){"use strict";e.d(n,"a",(function(){return h}));var i=e("2Vo4"),r=e("XNiG"),s=e("LRne"),o=e("lJxs"),a=e("fXoL"),c=e("AytR"),l=e("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.URL=c.a.url2}getCities(){return this.http.get(this.URL+"/locations/all")}getPaths(t,n){return this.http.get(`${this.URL}/routes?from=${t}&to=${n}`,{observe:"response"})}}return t.\u0275fac=function(n){return new(n||t)(a.Qb(l.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=e("TEn/"),p=e("tyNb");const d=new Map;d.set("Ground route","../../assets/images/groundWay.png"),d.set("Mixed route","../../assets/images/mixedWay.png"),d.set("Flying route","../../assets/images/flightWay.png");const f=new Map;f.set("Bus","../../assets/images/transport/bus.png"),f.set("Train","../../assets/images/transport/train.png"),f.set("Ride Share","../../assets/images/transport/rideShare.png"),f.set("Taxi","../../assets/images/transport/taxi.png"),f.set("Flight","../../assets/images/transport/flight.png");let h=(()=>{class t{constructor(t,n,e){this.httpSrv=t,this.alertCtrl=n,this.router=e,this.allCities=[],this.pathsSubj$=new i.a([]),this.cleanPathsSubj$=new r.a}getAllCities(){this.citiesSub=this.httpSrv.getCities().subscribe(t=>this.allCities=t)}getStartPointAutocomplete(t){return this.getCitiesAutocomplete(t)}getEndPointAutocomplete(t){return this.getCitiesAutocomplete(t)}getPaths(t,n){this.startPointCity=t,this.endPointCity=n,this.httpSrv.getPaths(t.id,n.id).pipe(Object(o.a)(t=>{const n=t.body.filter(t=>"0"!=t.duration_minutes).map(t=>this.transformPath(t));return this.currentPaths=n,n})).subscribe(t=>{if(this.paths=t,0===t.length)return this.errorHandler(),void this.cleanPathsSubj$.next(!0);this.pathsSubj$.next(this.paths)})}getPathDetail(t){return this.currentPaths.find(n=>n.routeType===t)}errorHandler(){console.log("error"),this.alertCtrl.create({header:"An error occurred!",message:"No information fetched. Please try again later.",buttons:[{text:"Okay",handler:()=>{this.router.navigate(["/places/tabs/discover"])}}]}).then(t=>{t.present()})}transformPathDetails(t){return t.map(t=>(console.log("url",t.transportation_type),console.log("url",f.get("Bus")),Object.assign(Object.assign({},t),{duration_minutes:this.transformDuration(t.duration_minutes.toString()),euro_price:this.transformPrice(t.euro_price.toString()),imgUrl:f.get(t.transportation_type)})))}transformPath(t){return Object.assign(Object.assign({},t),{duration_minutes:this.transformDuration(t.duration_minutes.toString()),euro_price:this.transformPrice(t.euro_price.toString()),direct_paths:this.transformPathDetails(t.direct_paths),imgUrl:d.get(t.routeType)})}transformDuration(t){const n=Math.floor(+t/60/24),e=n<1?"":n+"d",i=Math.floor(+t/60-24*n);return e+" "+(i<1?"":i+"h")+" "+(+t-24*n*60-60*i)+"min"}transformPrice(t){const n=Math.floor(+t);return Math.floor(+t-n),t}getCitiesAutocomplete(t){const n=this.allCities.filter(n=>n.name.toLowerCase().indexOf(t.toLowerCase())>-1).map((n,e,i)=>Object.assign(Object.assign({},n),{index:n.name.toLowerCase().indexOf(t.toLowerCase())})).sort((t,n)=>t.index-n.index).map(t=>({id:t.id,name:t.name})).slice(0,10);return Object(s.a)(n)}}return t.\u0275fac=function(n){return new(n||t)(a.Qb(u),a.Qb(b.a),a.Qb(p.g))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ZaV5:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return r}));const i=async(t,n,e,i,r)=>{if(t)return t.attachViewToDom(n,e,r,i);if("string"!=typeof e&&!(e instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof e?n.ownerDocument&&n.ownerDocument.createElement(e):e;return i&&i.forEach(t=>s.classList.add(t)),r&&Object.assign(s,r),n.appendChild(s),s.componentOnReady&&await s.componentOnReady(),s},r=(t,n)=>{if(n){if(t)return t.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()}},h3R7:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));const i={bubbles:{dur:1e3,circles:9,fn:(t,n,e)=>{const i=t*n/e-t+"ms",r=2*Math.PI*n/e;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,n,e)=>{const i=n/e,r=t*i-t+"ms",s=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,n)=>({r:6,style:{left:9-9*n+"px","animation-delay":-110*n+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,n,e)=>({y1:17,y2:29,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":t*n/e-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,n,e)=>({y1:12,y2:20,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":t*n/e-t+"ms"}})}}},jgUy:function(t,n,e){"use strict";e.r(n),e.d(n,"DetailsPageModule",(function(){return d}));var i=e("ofXK"),r=e("3Pt+"),s=e("TEn/"),o=e("tyNb"),a=e("fXoL"),c=e("Qe3P");function l(t,n){if(1&t){const t=a.Nb();a.Mb(0,"ion-item-sliding",null,2),a.Mb(2,"ion-item"),a.Mb(3,"ion-thumbnail",3),a.Kb(4,"ion-img",4),a.Lb(),a.Mb(5,"ion-label"),a.Mb(6,"h2"),a.lc(7),a.Lb(),a.Mb(8,"p"),a.lc(9),a.Lb(),a.Mb(10,"p"),a.Mb(11,"span"),a.lc(12),a.Xb(13,"currency"),a.Lb(),a.Kb(14,"span",5),a.Mb(15,"span"),a.lc(16),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(17,"ion-item-options",6),a.Mb(18,"ion-item-option",7),a.Ub("click",(function(){a.fc(t);const n=a.ec(1);return a.Wb().onGoToMap(n)})),a.Kb(19,"ion-icon",8),a.Lb(),a.Lb(),a.Lb()}if(2&t){const t=n.$implicit;a.zb(4),a.bc("src",t.imgUrl),a.zb(3),a.oc("",t.from," =>",t.to,""),a.zb(2),a.mc(t.transportation_type),a.zb(3),a.mc(a.Yb(13,6,t.euro_price,"EUR","symbol","1.2-2")),a.zb(4),a.mc(t.duration_minutes)}}const u=[{path:"",component:(()=>{class t{constructor(t,n,e){this.route=t,this.navCtrl=n,this.placesSrv=e}ngOnInit(){this.startPointCityName=this.placesSrv.startPointCity.name,this.endPointCityName=this.placesSrv.endPointCity.name,this.route.paramMap.subscribe(t=>{t.has("pathId")?(this.rout=this.placesSrv.getPathDetail(t.get("pathId")),this.paths=this.rout.direct_paths):this.navCtrl.navigateBack("/places/tabs/offer")})}onGoToMap(t){t.close(),console.log("Editing item")}}return t.\u0275fac=function(n){return new(n||t)(a.Jb(o.a),a.Jb(s.M),a.Jb(c.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-details"]],decls:7,vars:3,consts:[["color","primary"],[4,"ngFor","ngForOf"],["slidingItem",""],["slot","start"],[3,"src"],[1,"spacer"],["side","end"],["color","secondary",3,"click"],["name","eye-sharp","slot","icon-only"]],template:function(t,n){1&t&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-title"),a.lc(3),a.Lb(),a.Lb(),a.Lb(),a.Mb(4,"ion-content"),a.Mb(5,"ion-list"),a.kc(6,l,20,11,"ion-item-sliding",1),a.Lb(),a.Lb()),2&t&&(a.zb(3),a.oc("",n.startPointCityName," => ",n.endPointCityName,""),a.zb(3),a.bc("ngForOf",n.paths))},directives:[s.o,s.J,s.I,s.m,s.x,i.j,s.v,s.s,s.H,s.q,s.w,s.u,s.t,s.p],pipes:[i.c],styles:["p[_ngcontent-%COMP%]{display:flex}span.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[o.i.forChild(u)],o.i]}),t})();var p=e("PCNd");let d=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[i.b,r.a,s.K,b,p.a]]}),t})()},nlsp:function(t,n,e){"use strict";e.r(n),e.d(n,"OfferPageModule",(function(){return m}));var i=e("ofXK"),r=e("3Pt+"),s=e("TEn/"),o=e("tyNb"),a=e("fXoL"),c=e("Qe3P");function l(t,n){1&t&&a.Kb(0,"ion-spinner",7)}function u(t,n){if(1&t&&a.Kb(0,"ion-img",15),2&t){const t=a.Wb().$implicit;a.bc("src",t.imgUrl)}}const b=function(t){return["/","places","tabs","discover",t]};function p(t,n){if(1&t&&(a.Mb(0,"ion-item",11),a.Mb(1,"ion-thumbnail",0),a.kc(2,u,1,1,"ion-img",12),a.Lb(),a.Mb(3,"ion-label",13),a.Mb(4,"h2"),a.lc(5),a.Lb(),a.Mb(6,"p"),a.Mb(7,"span"),a.lc(8),a.Xb(9,"currency"),a.Lb(),a.Kb(10,"span",14),a.Mb(11,"span"),a.lc(12),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t){const t=n.$implicit,e=a.Wb(2);a.zb(2),a.bc("ngIf",e.routs),a.zb(1),a.bc("routerLink",a.cc(10,b,t.routeType)),a.zb(2),a.mc(t.routeType),a.zb(3),a.mc(a.Yb(9,5,t.euro_price,"EUR","symbol","1.2-2")),a.zb(4),a.mc(t.duration_minutes)}}function d(t,n){if(1&t&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row"),a.Mb(2,"ion-col",8),a.Mb(3,"ion-label"),a.Mb(4,"h2"),a.lc(5),a.Kb(6,"ion-icon",9),a.lc(7),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"ion-row"),a.Mb(9,"ion-col",8),a.Mb(10,"ion-list"),a.kc(11,p,13,12,"ion-item",10),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t){const t=a.Wb();a.zb(5),a.nc(" ",t.startPointCity.name," "),a.zb(2),a.nc(" ",t.endPointCity.name,""),a.zb(4),a.bc("ngForOf",t.routs)}}const f=[{path:"",component:(()=>{class t{constructor(t,n){this.navCtrl=t,this.placesSrv=n}ngOnInit(){this.isLoading=!0,this.paths=this.placesSrv.pathsSubj$.subscribe(t=>{this.startPointCity=this.placesSrv.startPointCity,this.endPointCity=this.placesSrv.endPointCity,this.routs=t,console.log("routs",this.routs),this.isLoading=!1})}onGoBack(){this.navCtrl.navigateBack("places/tabs/discover")}}return t.\u0275fac=function(n){return new(n||t)(a.Jb(s.M),a.Jb(c.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-offer"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/places/tabs/discover"],["color","primary",1,"primary"],[1,"padding"],[1,"text-center"],["color","primary",4,"ngIf"],[4,"ngIf"],["color","primary"],["size","12","size-sm","8","offset-sm","2"],["name","arrow-forward-outline"],["detail","",4,"ngFor","ngForOf"],["detail",""],[3,"src",4,"ngIf"],[3,"routerLink"],[1,"spacer"],[3,"src"]],template:function(t,n){1&t&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-buttons",0),a.Kb(3,"ion-back-button",1),a.Lb(),a.Mb(4,"ion-title"),a.lc(5,"Paths"),a.Lb(),a.Lb(),a.Lb(),a.Mb(6,"ion-button",2),a.lc(7,"Back"),a.Lb(),a.Mb(8,"ion-content",3),a.Mb(9,"div",4),a.kc(10,l,1,0,"ion-spinner",5),a.Lb(),a.kc(11,d,12,3,"ion-grid",6),a.Lb()),2&t&&(a.zb(10),a.bc("ngIf",n.isLoading),a.zb(1),a.bc("ngIf",!n.isLoading))},directives:[s.o,s.J,s.f,s.c,s.d,s.I,s.e,s.m,i.k,s.D,s.n,s.C,s.l,s.w,s.p,s.x,i.j,s.s,s.H,s.O,o.h,s.q],pipes:[i.c],styles:["p[_ngcontent-%COMP%]{display:flex}span.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[o.i.forChild(f)],o.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[i.b,r.a,s.K,h]]}),t})()},qULd:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return r})),e.d(n,"d",(function(){return c})),e.d(n,"e",(function(){return a}));const i={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const n=this.getEngine();if(!n)return;const e=this.isCapacitor()?t.style.toUpperCase():t.style;n.impact({style:e})},notification(t){const n=this.getEngine();if(!n)return;const e=this.isCapacitor()?t.style.toUpperCase():t.style;n.notification({style:e})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},r=()=>{i.selection()},s=()=>{i.selectionStart()},o=()=>{i.selectionChanged()},a=()=>{i.selectionEnd()},c=t=>{i.impact(t)}}}]);