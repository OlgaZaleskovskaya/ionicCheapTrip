{"version":3,"sources":["./src/app/places/discover/details/details.page.html","./src/app/http.service.ts","./src/app/places/discover/details/details.page.scss","./src/app/places/discover/details/details.page.ts","./src/app/places/places.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,yHAA0D,oBAAoB,MAAM,kBAAkB,oQAAoQ,yBAAyB,qDAAqD,UAAU,2IAA2I,QAAQ,2DAA2D,sBAAsB,4HAA4H,mDAAmD,wdAAwd,E;;;;;;;;;;;;;;;;;;;ACA1wC;AACP;AAEe;IAQ7C,WAAW,SAAX,WAAW;IACtB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,QAAG,GAAG,qEAAW,CAAC,IAAI,CAAC;IAFgB,CAAC;IAIxC,SAAS;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,gBAAgB,CAAC,CAAC;IACpD,CAAC;IAED,QAAQ,CAAC,YAAoB,EAAE,UAAkB;QAC/C,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,gBAAgB,YAAY,OAAO,UAAU,EAAE,CAAC;QACvE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACrD,CAAC;CACF;;YAxBQ,+DAAU;;AAWN,WAAW;IAHvB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,WAAW,CAavB;AAbuB;;;;;;;;;;;;;ACXxB;AAAe,mEAAI,kBAAkB,GAAG,iBAAiB,mBAAmB,GAAG,WAAW,sCAAsC,GAAG,kBAAkB,2BAA2B,4BAA4B,+BAA+B,gCAAgC,GAAG,6CAA6C,22BAA22B,E;;;;;;;;;;;;;;;;;;;;ACA7mC;AACR;AACc;AAEV;IAOxC,WAAW,SAAX,WAAW;IAMtB,YACU,KAAqB,EACrB,OAAsB,EACtB,SAAwB;QAFxB,UAAK,GAAL,KAAK,CAAgB;QACrB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAe;IAC/B,CAAC;IAEJ,QAAQ;QAEN,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC;QAC1D;;;;;;;eAOO;IACR,CAAC;IAED,SAAS,CAAC,WAA2B;QAEjC,WAAW,CAAC,KAAK,EAAE,CAAC;QAEpB,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAEhC,CAAC;CAIF;;YA9CQ,8DAAc;YACE,4DAAa;YAE7B,6DAAa;;;mBAYnB,mDAAK;;AALK,WAAW;IALvB,+DAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,uOAAkC;;KAEnC,CAAC;GACW,WAAW,CAoCvB;AApCuB;;;;;;;;;;;;;;;;;;;;;;;;ACXmB;AACF;AACQ;AAC6B;AAC9B;AACF;AACS;AASvD,MAAM,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;AAC1B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;AACjE,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,kCAAkC,CAAC,CAAC;AAC/D,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;AAEjE,IAAK,KA4BJ;AA5BD,WAAK,KAAK;IACR,wEAEQ;IACR,6EAEQ;IACR,mFAEQ;IACR,mFAEQ;IACR,+EAEQ;IACR,iFAEQ;IACR,6EAEQ;IACR,0EAEQ;IACR,0EAEQ;AACV,CAAC,EA5BI,KAAK,KAAL,KAAK,QA4BT;AAED,MAAM,gBAAgB,GAAG,IAAI,GAAG,EAAE,CAAC;AACnC;;;;8EAI8E;AAC9E,gBAAgB,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AACvC,gBAAgB,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3C,gBAAgB,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9C,gBAAgB,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;AACzC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;IAKhC,aAAa,SAAb,aAAa;IAYxB,YACU,OAAoB,EACpB,SAA0B,EAC1B,MAAc,EACf,SAA2B;QAH1B,YAAO,GAAP,OAAO,CAAa;QACpB,cAAS,GAAT,SAAS,CAAiB;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACf,cAAS,GAAT,SAAS,CAAkB;QAfpC,cAAS,GAAY,EAAE,CAAC;QAQxB,eAAU,GAAiB,IAAI,oDAAe,CAAM,EAAE,CAAC,CAAC;QACxD,oBAAe,GAAiB,IAAI,4CAAO,EAAW,CAAC;IAOpD,CAAC;IAEJ,YAAY;QACV,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO;aAC1B,SAAS,EAAE;aACX,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,MAAiB,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,yBAAyB,CAAC,GAAW;QACnC,OAAO,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,IAAI,CACzC,0DAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,IAAI,EAAE,GAAG,gBAAgB,CAAC;YAE1B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;gBAClB,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC;aACxC;iBAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE;gBAC1B,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;aAC5C;QACH,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,GAAW;QACjC,OAAO,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,IAAI,CACzC,0DAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,IAAI,EAAE,GAAG,gBAAgB,CAAC;YAE1B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;gBAClB,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC;aACxC;iBAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE;gBAC1B,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;aAC5C;QACH,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,UAAiB,EAAE,QAAe;QACzC,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;QAC7B,IAAI,CAAC,OAAO;aACT,QAAQ,CAAC,UAAU,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC;aACpC,IAAI,CACH,0DAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACX,IAAI,KAAK,GAAG,IAAI,CAAC,IAAuB,CAAC;YAEzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1C,IACE,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB;oBACvD,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,EACnD;oBACA,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC;oBAC9B,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC;iBACzB;aACF;YACD,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,IAAI,GAAG,CAAC,CAAC;YACtE,MAAM,gBAAgB,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAmB,EAAE,EAAE;gBAC5D,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC;YAErC,OAAO,gBAAgB,CAAC;QAC1B,CAAC,CAAC,CACH;aACA,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;gBAC3C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACzB,OAAO;aACR;iBAAM;gBACL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAClC;QACH,CAAC,CAAC;YACF,CAAC,MAAM,EAAE,EAAE;gBACT,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;gBACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC;IACN,CAAC;IAED,aAAa,CAAC,IAAY;QACxB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC;IAC7D,CAAC;IAEO,YAAY,CAAC,IAAe;QAClC,IAAI,CAAC,SAAS;aACX,MAAM,CAAC;YACN,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,IAAI,SAAS,CAAC;YACvD,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,IAAI,UAAU,CAAC;YACzD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,IAAI,SAAS,CAAC;oBACrD,OAAO,EAAE,GAAG,EAAE;wBACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;oBAClD,CAAC;iBACF;aACF;SACF,CAAC;aACD,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YAChB,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,oBAAoB,CAC1B,KAA4B;QAE5B,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAErC,uCACK,IAAI,KACP,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CACtC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CACjC,EACD,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,EAC3D,MAAM,EAAE,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,IACtD;QACJ,CAAC,CAAC,CAAC;QAEH,OAAO,WAAW,CAAC;IACrB,CAAC;IAEO,aAAa,CAAC,IAAmB;QACvC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAE,CAAC;QAC3B,MAAM,eAAe,mCAChB,IAAI,KACP,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CACtC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAEjC,EACD,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,EAC3D,YAAY,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,EAC1D,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,EACnC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,IAAI,CAAC,SAAS,EAAE,CAAC,GACjE,CAAC;QACF,OAAO,eAAe,CAAC;IACzB,CAAC;IAEO,iBAAiB,CAAC,OAAe;QACvC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;QAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC;QAC7C,MAAM,GAAG,GAAG,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE,CAAC;QACnD,MAAM,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC;QAC3B,MAAM,QAAQ,GAAG,MAAM,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,GAAG,MAAM,CAAC;QAEvD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAEO,cAAc,CAAC,KAAa;QAClC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC5C,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,qBAAqB,CAAC,GAAW;QACvC,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;YAChD,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,MAAM,eAAe,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;YAC5D,uCACK,IAAI,KACP,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,IACzD;QACJ,CAAC,CAAC,CAAC;QACH,MAAM,UAAU,GAAG,eAAe;aAC/B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACb,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QAC3B,CAAC,CAAC;aACD,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACZ,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QAC1C,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAChB,OAAO,+CAAE,CAAC,UAAU,CAAC,CAAC;IACxB,CAAC;CACF;;YA7PQ,yDAAW;YAHX,8DAAe;YADf,sDAAM;YAKN,oEAAgB;;AA2DZ,aAAa;IAHzB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,aAAa,CAiMzB;AAjMyB","file":"default~discover-details-details-module~discover-offer-offer-module~offer-offer-module-es2015.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>{{startPointCityName}} => {{endPointCityName}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n -->\\r\\n  <ion-list>\\r\\n    <ion-item-sliding *ngFor=\\\"let way of ways\\\" #slidingItem>\\r\\n      <ion-item class=\\\"no-padding\\\">\\r\\n   \\r\\n        <ion-label>\\r\\n          <p> <span class=\\\"spacer\\\"></span>{{way.transportation_type}}<span class=\\\"spacer\\\"></span></p>\\r\\n          <p>{{way.from}} <span class=\\\"spacer\\\"></span>\\r\\n            <ion-icon name=\\\"arrow-forward\\\"></ion-icon><span class=\\\"spacer\\\"></span>\\r\\n            {{way.to}}\\r\\n          </p>\\r\\n          <p>\\r\\n            <span>{{way.duration_minutes}}</span>\\r\\n            <span class=\\\"spacer\\\"></span>\\r\\n            <span>\\r\\n              <ion-badge color=\\\"primary\\\">{{way.euro_price | currency:'EUR':'symbol':'1.2-2' }}</ion-badge>\\r\\n            </span>\\r\\n\\r\\n          </p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n      <ion-item-options side=\\\"end\\\">\\r\\n        <ion-item-option color=\\\"secondary\\\" (click)=\\\"onGoToMap(slidingItem)\\\">\\r\\n          <ion-icon name=\\\"eye-sharp\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-item-option>\\r\\n      </ion-item-options>\\r\\n\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n  <!--  <app-location-picker></app-location-picker> -->\\r\\n \";","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable, of } from \"rxjs\";\nimport { environment } from \"../environments/environment\";\nimport { ICity } from \"./places/places.model\";\n\n\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class HttpService {\n  constructor(private http: HttpClient) {}\n\n  URL = environment.url2;\n\n  getCities(): Observable<any> {\n    return this.http.get(`${this.URL}/locations/all`);\n  }\n\n  getPaths(startPointId: number, endPointId: number): Observable<any> {\n    const url = `${this.URL}/routes?from=${startPointId}&to=${endPointId}`;\n    return this.http.get(url, { observe: \"response\" });\n  }\n}\n","export default \"p {\\n  display: flex;\\n}\\n\\nspan.spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.icon {\\n  color: var(--ion-color-secondary);\\n}\\n\\n.item-avatar {\\n  width: 100% !important;\\n  height: 100% !important;\\n  max-width: 40px !important;\\n  max-height: 40px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhY2VzL2Rpc2NvdmVyL2RldGFpbHMvZGV0YWlscy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FBQ0o7O0FBQ0E7RUFDSSxjQUFBO0FBRUo7O0FBRUE7RUFDSSxpQ0FBQTtBQUNKOztBQUVBO0VBQ0ksc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDBCQUFBO0VBQ0EsMkJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BsYWNlcy9kaXNjb3Zlci9kZXRhaWxzL2RldGFpbHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuc3Bhbi5zcGFjZXJ7XHJcbiAgICBmbGV4OiAxIDEgYXV0bztcclxuICAgIFxyXG59XHJcblxyXG4uaWNvbntcclxuICAgIGNvbG9yOiB2YXIoIC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbn1cclxuXHJcbi5pdGVtLWF2YXRhciAgeyAgICAgXHJcbiAgICB3aWR0aDoxMDAlICFpbXBvcnRhbnQ7ICBcclxuICAgIGhlaWdodCA6IDEwMCUgIWltcG9ydGFudDsgIFxyXG4gICAgbWF4LXdpZHRoOiA0MHB4ICFpbXBvcnRhbnQ7ICAvL2FueSBzaXplXHJcbiAgICBtYXgtaGVpZ2h0OiA0MHB4ICFpbXBvcnRhbnQ7IC8vYW55IHNpemUgXHJcbiAgICB9XHJcbiAiXX0= */\";","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { IonItemSliding, NavController } from \"@ionic/angular\";\r\nimport { IFetchedPathDetails, IFetchedPaths } from \"../../places.model\";\r\nimport { PlacesService } from \"../../places.service\";\r\n\r\n@Component({\r\n  selector: \"app-details\",\r\n  templateUrl: \"./details.page.html\",\r\n  styleUrls: [\"./details.page.scss\"],\r\n})\r\nexport class DetailsPage implements OnInit {\r\n  rout: IFetchedPaths;\r\n  paths: IFetchedPathDetails[];\r\n  endPointCityName: string;\r\n  startPointCityName: string;\r\n  @Input() ways: Array<any>;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private navCtrl: NavController,\r\n    private placesSrv: PlacesService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n \r\n    this.startPointCityName = this.placesSrv.startPointCity.name;\r\n    this.endPointCityName = this.placesSrv.endPointCity.name;\r\n   /*  this.route.paramMap.subscribe((paramMap) => {\r\n      if (!paramMap.has(\"pathId\")) {\r\n        this.navCtrl.navigateBack(\"/places/tabs/offer\");\r\n        return;\r\n      }\r\n      this.rout = this.placesSrv.getPathDetail(paramMap.get(\"pathId\"));\r\n      this.paths = this.rout.direct_paths;\r\n    }); */\r\n  }\r\n\r\n  onGoToMap(slidingItem: IonItemSliding){\r\n   \r\n      slidingItem.close();\r\n  \r\n      console.log('Editing item');\r\n   \r\n  }\r\n\r\n  \r\n \r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AlertController } from \"@ionic/angular\";\r\nimport { BehaviorSubject, Observable, of, Subject, Subscription } from \"rxjs\";\r\nimport { map, take, tap } from \"rxjs/operators\";\r\nimport { HttpService } from \"../http.service\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport {\r\n  ErrorType,\r\n  ICity,\r\n  IFetchedPathDetails,\r\n  IFetchedPaths,\r\n  TransportationType,\r\n} from \"./places.model\";\r\n\r\nconst iconMap = new Map();\r\niconMap.set(\"Ground route\", \"../../assets/images/groundWay.png\");\r\niconMap.set(\"Mixed route\", \"../../assets/images/mixedWay.png\");\r\niconMap.set(\"Flying route\", \"../../assets/images/flightWay.png\");\r\n\r\nenum Icons {\r\n  FLIGHT = `<span class=\"material-icons\">\r\n  flight\r\n  </span>`,\r\n  BUS = `<span class=\"material-icons\">\r\n  directions_bus\r\n  </span>`,\r\n  TRAIN = `<span class=\"material-icons\">\r\n  directions_railway\r\n  </span>`,\r\n  SUBWAY = `<span class=\"material-icons\">\r\n  directions_subway\r\n  </span>`,\r\n  SHIP = `<span class=\"material-icons\">\r\n  directions_boat\r\n  </span>`,\r\n  ONFOOT = `<span class=\"material-icons\">\r\n  directions_walk\r\n  </span>`,\r\n  CAR = `<span class=\"material-icons\">\r\n  directions_car\r\n  </span>`,\r\n  TAXI = `<span class=\"material-icons\">\r\n  local_taxi\r\n  </span>`,\r\n  SHUTTLE = `<span class=\"material-icons\">\r\n  shuttle\r\n  </span>`,\r\n}\r\n\r\nconst transportIconMap = new Map();\r\n/* transportIconMap.set(\"Bus\", \"../../assets/images/transport/bus.png\");\r\ntransportIconMap.set(\"Train\", \"../../assets/images/transport/train.png\");\r\ntransportIconMap.set(\"Ride Share\", \"../../assets/images/transport/rideShare.png\");\r\ntransportIconMap.set(\"Taxi\", \"../../assets/images/transport/taxi.png\");\r\ntransportIconMap.set(\"Flight\", \"../../assets/images/transport/flight.png\"); */\r\ntransportIconMap.set(\"Bus\", Icons.BUS);\r\ntransportIconMap.set(\"Train\", Icons.TRAIN);\r\ntransportIconMap.set(\"Ride Share\", Icons.CAR);\r\ntransportIconMap.set(\"Taxi\", Icons.TAXI);\r\ntransportIconMap.set(\"Flight\", Icons.FLIGHT);\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class PlacesService {\r\n  allCities: ICity[] = [];\r\n  endPointCities: ICity[];\r\n  citiesSub: Subscription;\r\n  paths: IFetchedPaths[];\r\n  startPointCity: ICity;\r\n  endPointCity: ICity;\r\n  currentPaths: IFetchedPaths[];\r\n\r\n  pathsSubj$: Subject<any> = new BehaviorSubject<any>([]);\r\n  cleanPathsSubj$: Subject<any> = new Subject<boolean>();\r\n\r\n  constructor(\r\n    private httpSrv: HttpService,\r\n    private alertCtrl: AlertController,\r\n    private router: Router,\r\n    public translate: TranslateService\r\n  ) {}\r\n\r\n  getAllCities() {\r\n    this.citiesSub = this.httpSrv\r\n      .getCities()\r\n      .subscribe((cities) => (this.allCities = cities as ICity[]));\r\n  }\r\n\r\n  getStartPointAutocomplete(str: string): Observable<ICity[]> {\r\n    return this.getCitiesAutocomplete(str).pipe(\r\n      tap((res) => {\r\n        var re = /^[A-Za-z0-9]+$/;\r\n\r\n        if (!str.match(re)) {\r\n          this.errorHandler(\"LATIN_CHARACTERES\");\r\n        } else if (res.length == 0) {\r\n          this.errorHandler(\"NO_RESULTS_FOR_SEARCH\");\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  getEndPointAutocomplete(str: string): Observable<ICity[]> {\r\n    return this.getCitiesAutocomplete(str).pipe(\r\n      tap((res) => {\r\n        var re = /^[A-Za-z0-9]+$/;\r\n\r\n        if (!str.match(re)) {\r\n          this.errorHandler(\"LATIN_CHARACTERES\");\r\n        } else if (res.length == 0) {\r\n          this.errorHandler(\"NO_RESULTS_FOR_SEARCH\");\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  getPaths(startPoint: ICity, endPoint: ICity): void {\r\n    this.startPointCity = startPoint;\r\n    this.endPointCity = endPoint;\r\n    this.httpSrv\r\n      .getPaths(startPoint.id, endPoint.id)\r\n      .pipe(\r\n        map((data) => {\r\n          let paths = data.body as IFetchedPaths[];\r\n\r\n          for (let i = 1; i <= paths.length - 1; i++) {\r\n            if (\r\n              paths[0].duration_minutes === paths[i].duration_minutes &&\r\n              data.body[0].euro_price === data.body[i].euro_price\r\n            ) {\r\n              paths[i].duration_minutes = 0;\r\n              paths[i].euro_price = 0;\r\n            }\r\n          }\r\n          const pathsArr = paths.filter((path) => path.duration_minutes != \"0\");\r\n          const transformedPaths = pathsArr.map((path: IFetchedPaths) => {\r\n            return this.transformPath(path);\r\n          });\r\n          this.currentPaths = transformedPaths;\r\n\r\n          return transformedPaths;\r\n        })\r\n      )\r\n      .subscribe((paths) => {\r\n        this.paths = paths;\r\n        if (paths.length === 0) {\r\n          this.errorHandler(\"NO_RESULTS_FOR_SEARCH\");\r\n          this.cleanPathsSubj$.next(true);\r\n          this.pathsSubj$.next([]);\r\n          return;\r\n        } else {\r\n          this.pathsSubj$.next(this.paths);\r\n        }\r\n      }),\r\n      (_error) => {\r\n        this.errorHandler(\"SLEEPING_SERVER\");\r\n        this.pathsSubj$.next([]);\r\n      };\r\n  }\r\n\r\n  getPathDetail(type: string): IFetchedPaths {\r\n    return this.currentPaths.find((p) => p.routeType === type);\r\n  }\r\n\r\n  private errorHandler(type: ErrorType) {\r\n    this.alertCtrl\r\n      .create({\r\n        header: this.translate.instant(`ERRORS:${type}.Header`),\r\n        message: this.translate.instant(`ERRORS:${type}.Message`),\r\n        buttons: [\r\n          {\r\n            text: this.translate.instant(`ERRORS:${type}.Button`),\r\n            handler: () => {\r\n              this.router.navigate([\"/places/tabs/discover\"]);\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .then((alertEl) => {\r\n        alertEl.present();\r\n      });\r\n  }\r\n\r\n  private transformPathDetails(\r\n    paths: IFetchedPathDetails[]\r\n  ): IFetchedPathDetails[] {\r\n    const transformed = paths.map((path) => {\r\n    \r\n      return {\r\n        ...path,\r\n        duration_minutes: this.transformDuration(\r\n          path.duration_minutes.toString()\r\n        ),\r\n        euro_price: this.transformPrice(path.euro_price.toString()),\r\n        imgUrl: transportIconMap.get(path.transportation_type),\r\n      };\r\n    });\r\n\r\n    return transformed;\r\n  }\r\n\r\n  private transformPath(path: IFetchedPaths): IFetchedPaths {\r\n    console.log(\"path\", path );\r\n    const transformedPath = {\r\n      ...path,\r\n      duration_minutes: this.transformDuration(\r\n        path.duration_minutes.toString(),\r\n      \r\n      ),\r\n      euro_price: this.transformPrice(path.euro_price.toString()),\r\n      direct_paths: this.transformPathDetails(path.direct_paths),\r\n      imgUrl: iconMap.get(path.routeType), \r\n      routeType: this.translate.instant(`ROUT_TYPE.${path.routeType}`),\r\n    };\r\n    return transformedPath;\r\n  }\r\n\r\n  private transformDuration(minutes: string) {\r\n    const days = Math.floor(+minutes / 60 / 24);\r\n    const dayStr = days < 1 ? \"\" : days + \"d\";\r\n    const hours = Math.floor(+minutes / 60 - days * 24);\r\n    const hourStr = hours < 1 ? \"\" : hours + \"h\";\r\n    const min = +minutes - days * 24 * 60 - hours * 60;\r\n    const minStr = min + \"min\";\r\n    const duration = dayStr + \" \" + hourStr + \" \" + minStr;\r\n\r\n    return duration;\r\n  }\r\n\r\n  private transformPrice(price: string) {\r\n    const euro = Math.floor(+price);\r\n    const cent = Math.floor(+price - euro) * 10;\r\n    return price;\r\n  }\r\n\r\n  private getCitiesAutocomplete(str: string): Observable<ICity[]> {\r\n    const citiesList = this.allCities.filter((city) => {\r\n      return city.name.toLowerCase().indexOf(str.toLowerCase()) > -1;\r\n    });\r\n\r\n    const transformedList = citiesList.map((item, index, array) => {\r\n      return {\r\n        ...item,\r\n        index: item.name.toLowerCase().indexOf(str.toLowerCase()),\r\n      };\r\n    });\r\n    const sortedList = transformedList\r\n      .sort((a, b) => {\r\n        return a.index - b.index;\r\n      })\r\n      .map((item) => {\r\n        return { id: item.id, name: item.name };\r\n      })\r\n      .slice(0, 10);\r\n    return of(sortedList);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}