(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("A36C"),o=e("iWo5"),c=e("qULd");const r=(n,t)=>{let e,r;const s=(n,i,o)=>{if("undefined"==typeof document)return;const c=document.elementFromPoint(n,i);c&&t(c)?c!==e&&(l(),a(c,o)):l()},a=(n,t)=>{e=n,r||(r=e);const o=e;Object(i.f)(()=>o.classList.add("ion-activated")),t()},l=(n=!1)=>{if(!e)return;const t=e;Object(i.f)(()=>t.classList.remove("ion-activated")),n&&r!==e&&e.click(),e=void 0};return Object(o.createGesture)({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:n=>s(n.currentX,n.currentY,c.a),onMove:n=>s(n.currentX,n.currentY,c.b),onEnd:()=>{l(!0),Object(c.e)(),r=void 0}})}},"6GUj":function(n,t,e){"use strict";e.d(t,"a",(function(){return b}));var i=e("fXoL"),o=e("Qe3P"),c=e("sYmb"),r=e("TEn/"),s=e("ofXK"),a=e("tyNb");function l(n,t){if(1&n&&(i.Mb(0,"ion-select-option",9),i.mc(1),i.Lb()),2&n){const n=t.$implicit;i.cc("value",n),i.zb(1),i.nc(n)}}const u=function(){return["/"]};function p(n,t){1&n&&(i.Mb(0,"a",10),i.mc(1),i.Xb(2,"translate"),i.Lb()),2&n&&(i.cc("routerLink",i.dc(4,u)),i.zb(1),i.oc(" ",i.Yb(2,2,"OFFER.NewSearch"),""))}let b=(()=>{class n{constructor(n,t){this.placesSrv=n,this.translate=t,this.language="en",t.addLangs(["en","ru"]),t.setDefaultLang("en")}ngOnInit(){this.currencyArr=this.placesSrv.getCurrencyArray(),this.currentCurrency=this.placesSrv.currentCurrency,console.log("current currency tools",this.currentCurrency);const n=this.translate.getBrowserLang();if(this.placesSrv.languageChanged)this.translate.use(this.placesSrv.currentLanguage);else switch(n){case"ru":this.translate.use("ru"),this.placesSrv.setLanguage("ru",!1),this.language="ru";break;case"en":default:this.translate.use("en"),this.placesSrv.setLanguage("en",!1)}}onSelectLang(n){this.translate.use(n.detail.value),this.placesSrv.setLanguage(n.detail.value,!0)}onSelectCurrency(n){const t=n.detail.value;console.log("selectedCurrency",t),this.isHidden||this.placesSrv.getCurrencyRate(t,!1),this.placesSrv.getCurrencyRate(t,!0)}}return n.\u0275fac=function(t){return new(t||n)(i.Jb(o.a),i.Jb(c.d))},n.\u0275cmp=i.Db({type:n,selectors:[["app-tools"]],inputs:{isHidden:"isHidden"},decls:13,vars:4,consts:[["translucent",""],["slot","start",1,"select"],["lines","none",1,"select"],["interface","popover",1,"select",3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["role","button",3,"routerLink",4,"ngIf"],["slot","end",1,"select"],["value","en"],["value","ru"],[3,"value"],["role","button",3,"routerLink"]],template:function(n,t){1&n&&(i.Mb(0,"ion-toolbar",0),i.Mb(1,"ion-buttons",1),i.Mb(2,"ion-item",2),i.Mb(3,"ion-select",3),i.Ub("ionChange",(function(n){return t.onSelectCurrency(n)})),i.lc(4,l,2,2,"ion-select-option",4),i.Lb(),i.Lb(),i.Lb(),i.lc(5,p,3,5,"a",5),i.Mb(6,"ion-buttons",6),i.Mb(7,"ion-item",2),i.Mb(8,"ion-select",3),i.Ub("ionChange",(function(n){return t.onSelectLang(n)})),i.Mb(9,"ion-select-option",7),i.mc(10,"En"),i.Lb(),i.Mb(11,"ion-select-option",8),i.mc(12,"Ru"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&n&&(i.zb(3),i.cc("value",t.placesSrv.currentCurrency),i.zb(1),i.cc("ngForOf",t.currencyArr),i.zb(1),i.cc("ngIf",t.isHidden),i.zb(3),i.cc("value",t.language))},directives:[r.M,r.h,r.u,r.E,r.S,s.j,s.k,r.F,a.i,r.R],pipes:[c.c],styles:["a[_ngcontent-%COMP%]{display:block;text-decoration:none;font-family:Lato,sans-serif;font-style:italic;width:10rem;text-align:center;background-color:var(--ion-color-secondary);color:#fff;margin:auto}"]}),n})()},"74mu":function(n,t,e){"use strict";e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return c})),e.d(t,"c",(function(){return i})),e.d(t,"d",(function(){return s}));const i=(n,t)=>null!==t.closest(n),o=(n,t)=>"string"==typeof n&&n.length>0?Object.assign({"ion-color":!0,["ion-color-"+n]:!0},t):t,c=n=>{const t={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(n=>null!=n).map(n=>n.trim()).filter(n=>""!==n):[])(n).forEach(n=>t[n]=!0),t},r=/^[a-z][a-z0-9+\-.]*:/,s=async(n,t,e,i)=>{if(null!=n&&"#"!==n[0]&&!r.test(n)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(n,e,i)}return!1}},ZaV5:function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return o}));const i=async(n,t,e,i,o)=>{if(n)return n.attachViewToDom(t,e,o,i);if("string"!=typeof e&&!(e instanceof HTMLElement))throw new Error("framework delegate is missing");const c="string"==typeof e?t.ownerDocument&&t.ownerDocument.createElement(e):e;return i&&i.forEach(n=>c.classList.add(n)),o&&Object.assign(c,o),t.appendChild(c),c.componentOnReady&&await c.componentOnReady(),c},o=(n,t)=>{if(t){if(n)return n.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));const i={bubbles:{dur:1e3,circles:9,fn:(n,t,e)=>{const i=n*t/e-n+"ms",o=2*Math.PI*t/e;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(n,t,e)=>{const i=t/e,o=n*i-n+"ms",c=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(c)+"px",left:9*Math.cos(c)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(n,t,e)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":n*t/e-n+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(n,t,e)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":n*t/e-n+"ms"}})}}},nlsp:function(n,t,e){"use strict";e.r(t),e.d(t,"OfferPageModule",(function(){return O}));var i=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),r=e("7EHt"),s=e("tyNb"),a=e("fXoL"),l=e("Qe3P"),u=e("6GUj"),p=e("qJoI"),b=e("sYmb");function d(n,t){1&n&&a.Kb(0,"ion-spinner",0)}function g(n,t){1&n&&a.Kb(0,"span",16),2&n&&a.cc("innerHTML",t.$implicit,a.gc)}function f(n,t){if(1&n&&(a.Mb(0,"li"),a.mc(1),a.Kb(2,"ion-icon",9),a.Lb()),2&n){const n=t.$implicit;a.zb(1),a.nc(n)}}function m(n,t){if(1&n&&(a.Mb(0,"ion-item"),a.Mb(1,"mat-accordion"),a.Mb(2,"mat-expansion-panel"),a.Mb(3,"mat-expansion-panel-header",11),a.Mb(4,"mat-panel-title"),a.Mb(5,"p"),a.lc(6,g,1,1,"span",12),a.Lb(),a.Lb(),a.Mb(7,"mat-panel-description"),a.Mb(8,"ul",13),a.lc(9,f,3,1,"li",10),a.Lb(),a.Mb(10,"p"),a.Mb(11,"span",14),a.mc(12),a.Lb(),a.Kb(13,"span",8),a.Mb(14,"span"),a.Mb(15,"ion-badge",0),a.mc(16),a.Xb(17,"currency"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Kb(18,"app-details",15),a.Lb(),a.Lb(),a.Lb()),2&n){const n=t.$implicit,e=a.Wb(2);a.zb(6),a.cc("ngForOf",n.icons),a.zb(3),a.cc("ngForOf",n.cities),a.zb(3),a.nc(n.duration_minutes),a.zb(4),a.nc(a.Zb(17,6,n.euro_price,e.currentCurrency,!0,"1.2-2")),a.zb(2),a.cc("ways",n.direct_paths)("currency",e.currentCurrency)}}function h(n,t){if(1&n&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row"),a.Mb(2,"ion-col",7),a.Mb(3,"ion-label"),a.Mb(4,"p"),a.Mb(5,"span"),a.mc(6),a.Lb(),a.Kb(7,"span",8),a.Kb(8,"ion-icon",9),a.Kb(9,"span",8),a.Mb(10,"span"),a.mc(11),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(12,"ion-row"),a.Mb(13,"ion-col",7),a.lc(14,m,19,11,"ion-item",10),a.Lb(),a.Lb(),a.Lb()),2&n){const n=a.Wb();a.zb(6),a.nc(n.startPointCity.name),a.zb(5),a.nc(n.endPointCity.name),a.zb(3),a.cc("ngForOf",n.routs)}}const y=[{path:"",component:(()=>{class n{constructor(n,t){this.navCtrl=n,this.placesSrv=t}ngOnInit(){this.isLoading=!0,this.currentCurrency=this.placesSrv.currentCurrency,this.currencyChanged=this.placesSrv.currencyChanged$.subscribe(n=>{this.currentCurrency=n.name,this.routs=this.recalculatePrice(n.rate,n.previousRate)}),this.paths=this.placesSrv.pathsSubj$.subscribe(n=>{this.startPointCity=this.placesSrv.startPointCity,this.endPointCity=this.placesSrv.endPointCity,this.routs=n,this.routs=this.routs.map(n=>Object.assign(Object.assign({},n),{cities:this.getCities(n),icons:this.getTransportTypes(n)})),this.isLoading=!1})}toSearchPage(){this.navCtrl.navigateBack("places/tabs/discover")}getCities(n){const t=new Set;return n.direct_paths.forEach(n=>{t.add(n.from),t.add(n.to)}),Array.from(t)}getTransportTypes(n){return n.direct_paths.map(n=>n.imgUrl)}recalculatePrice(n,t){return this.routs.map(e=>Object.assign(Object.assign({},e),{euro_price:e.euro_price*(n/t),direct_paths:e.direct_paths.map(e=>Object.assign(Object.assign({},e),{euro_price:e.euro_price*(n/t)}))}))}}return n.\u0275fac=function(t){return new(t||n)(a.Jb(c.P),a.Jb(l.a))},n.\u0275cmp=a.Db({type:n,selectors:[["app-offer"]],decls:12,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/places/tabs/discover"],[3,"isHidden"],[1,"text-center"],["color","primary",4,"ngIf"],[4,"ngIf"],["size","12","size-sm","8","offset-sm","2"],[1,"spacer"],["name","arrow-forward"],[4,"ngFor","ngForOf"],["expandedHeight","*","collapsedHeight","*"],[3,"innerHTML",4,"ngFor","ngForOf"],[1,"city"],[1,"time"],[3,"ways","currency"],[3,"innerHTML"]],template:function(n,t){1&n&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-buttons",1),a.Kb(3,"ion-back-button",2),a.Lb(),a.Mb(4,"ion-title"),a.mc(5),a.Xb(6,"translate"),a.Lb(),a.Lb(),a.Lb(),a.Kb(7,"app-tools",3),a.Mb(8,"ion-content"),a.Mb(9,"div",4),a.lc(10,d,1,0,"ion-spinner",5),a.Lb(),a.lc(11,h,15,3,"ion-grid",6),a.Lb()),2&n&&(a.zb(5),a.nc(a.Yb(6,4,"OFFER.AvailablePaths")),a.zb(2),a.cc("isHidden",!0),a.zb(3),a.cc("ngIf",t.isLoading),a.zb(1),a.cc("ngIf",!t.isLoading))},directives:[c.q,c.M,c.h,c.d,c.e,c.L,u.a,c.o,i.k,c.G,c.p,c.B,c.n,c.v,c.r,i.j,c.u,r.a,r.c,r.e,r.f,r.d,c.f,p.a],pipes:[b.c,i.c],styles:["p[_ngcontent-%COMP%]{display:flex}mat-accordion[_ngcontent-%COMP%]{width:100%}mat-header[_ngcontent-%COMP%]{padding:1px}mat-panel-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-secondary);display:flex;flex-direction:column}mat-panel-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:auto!important;padding:0}mat-panel-description[_ngcontent-%COMP%]{flex-direction:column;width:100%}mat-panel-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}mat-panel-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.time[_ngcontent-%COMP%]{color:#757575}mat-panel-description[_ngcontent-%COMP%]   ul.city[_ngcontent-%COMP%]{font-size:.8rem;width:100%;color:#212121;font-weight:700;font-style:italic;white-space:normal;line-height:1.2;padding:1px}mat-panel-description[_ngcontent-%COMP%]   ul.city[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}mat-panel-description[_ngcontent-%COMP%]   ul.city[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:.1rem;margin-left:5px}mat-panel-description[_ngcontent-%COMP%]   ul.city[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   ion-icon[_ngcontent-%COMP%]{display:none}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#ffccbc;color:#212121;font-weight:700;padding:0 1rem}"]}),n})()}];let M=(()=>{class n{}return n.\u0275mod=a.Hb({type:n}),n.\u0275inj=a.Gb({factory:function(t){return new(t||n)},imports:[[s.j.forChild(y)],s.j]}),n})();var C=e("PCNd");let O=(()=>{class n{}return n.\u0275mod=a.Hb({type:n}),n.\u0275inj=a.Gb({factory:function(t){return new(t||n)},imports:[[i.b,o.a,c.N,M,C.a,r.b]]}),n})()},qJoI:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var i=e("fXoL"),o=e("tyNb"),c=e("TEn/"),r=e("Qe3P"),s=e("ofXK");function a(n,t){if(1&n&&(i.Mb(0,"ion-item",1),i.Mb(1,"ion-label",2),i.Mb(2,"p",3),i.Kb(3,"span",4),i.mc(4),i.Kb(5,"span",4),i.Lb(),i.Mb(6,"p",5),i.Mb(7,"span"),i.mc(8),i.Lb(),i.Kb(9,"ion-icon",6),i.Mb(10,"span"),i.mc(11),i.Lb(),i.Lb(),i.Mb(12,"p"),i.Mb(13,"span",7),i.mc(14),i.Lb(),i.Kb(15,"span",4),i.Mb(16,"span",8),i.mc(17),i.Xb(18,"currency"),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&n){const n=t.$implicit,e=i.Wb();i.zb(4),i.nc(n.transportation_type),i.zb(4),i.nc(n.from),i.zb(3),i.nc(n.to),i.zb(3),i.nc(n.duration_minutes),i.zb(3),i.oc(" ",i.Zb(18,5,n.euro_price,e.currency,"symbol-narrow","1.2-2"),"")}}let l=(()=>{class n{constructor(n,t,e){this.route=n,this.navCtrl=t,this.placesSrv=e}ngOnInit(){console.info("detail",this.currency),this.startPointCityName=this.placesSrv.startPointCity.name,this.endPointCityName=this.placesSrv.endPointCity.name}onGoToMap(n){n.close(),console.log("Editing item")}}return n.\u0275fac=function(t){return new(t||n)(i.Jb(o.a),i.Jb(c.P),i.Jb(r.a))},n.\u0275cmp=i.Db({type:n,selectors:[["app-details"]],inputs:{ways:"ways",currency:"currency"},decls:2,vars:1,consts:[["class","ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-no-padding"],[1,"ion-no-margin"],[1,"transport"],[1,"spacer"],[1,"rout"],["name","arrow-forward"],[1,"time"],[1,"currency"]],template:function(n,t){1&n&&(i.Mb(0,"ion-list"),i.lc(1,a,19,10,"ion-item",0),i.Lb()),2&n&&(i.zb(1),i.cc("ngForOf",t.ways))},directives:[c.w,s.j,c.u,c.v,c.r],pipes:[s.c],styles:["p[_ngcontent-%COMP%]{display:flex}span.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.item-avatar[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:40px!important;max-height:40px!important}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{color:var(--ion-color-primary);display:inline-block}ion-label[_ngcontent-%COMP%]   p.rout[_ngcontent-%COMP%]{font-weight:700;color:#212121;justify-content:space-between}ion-label[_ngcontent-%COMP%]   p.rout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:40%}ion-label[_ngcontent-%COMP%]   p.rout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{text-align:right;justify-self:end}ion-label[_ngcontent-%COMP%]   p.rout[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{justify-self:center}[_nghost-%COMP%], ion-list[_ngcontent-%COMP%]{width:100%}ion-list[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.3);margin:0}.time[_ngcontent-%COMP%]{color:#757575}ion-item[_ngcontent-%COMP%]{--inner-padding-end:0px;--padding-start:0px ion-label{width:100%;background-color:grey} ;}"]}),n})()},qULd:function(n,t,e){"use strict";e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return o})),e.d(t,"d",(function(){return a})),e.d(t,"e",(function(){return s}));const i={getEngine(){const n=window;return n.TapticEngine||n.Capacitor&&n.Capacitor.isPluginAvailable("Haptics")&&n.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(n){const t=this.getEngine();if(!t)return;const e=this.isCapacitor()?n.style.toUpperCase():n.style;t.impact({style:e})},notification(n){const t=this.getEngine();if(!t)return;const e=this.isCapacitor()?n.style.toUpperCase():n.style;t.notification({style:e})},selection(){this.impact({style:"light"})},selectionStart(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},o=()=>{i.selection()},c=()=>{i.selectionStart()},r=()=>{i.selectionChanged()},s=()=>{i.selectionEnd()},a=n=>{i.impact(n)}}}]);