{"version":3,"sources":["./src/app/places/discover/discover.page.html","./src/app/places/discover/discover-routing.module.ts","./src/app/places/discover/discover.module.ts","./src/app/places/discover/discover.page.scss","./src/app/places/discover/discover.page.ts"],"names":[],"mappings":"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","file":"discover-discover-module-es2015.js","sourcesContent":["export default \"<ion-toolbar color=\\\"primary\\\">\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n    <!--   <ion-menu-button menu=\\\"m1\\\"></ion-menu-button> -->\\r\\n    <ion-menu-button></ion-menu-button>\\r\\n  </ion-buttons>\\r\\n  <!--   <ion-buttons class=\\\"select\\\" slot=\\\"end\\\">\\r\\n    <ion-item  class=\\\"select\\\" lines=\\\"none\\\">\\r\\n     <ion-icon name=\\\"checkbox-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n   <ion-label>{{'SelectLanguage' | translate}}</ion-label> \\r\\n      <ion-select [value]=\\\"language\\\" class=\\\"select\\\" interface=\\\"popover\\\" (ionChange)=\\\"onSelectLang($event)\\\">\\r\\n        <ion-select-option value=\\\"en\\\">En</ion-select-option>\\r\\n        <ion-select-option value=\\\"ru\\\">Ru</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n  </ion-buttons>-->\\r\\n\\r\\n  <ion-title class=\\\"hide-xs\\\">\\r\\n    <span [ngStyle]=\\\"{'padding-right':'7px'}\\\">CheapTrip. </span> {{'DISCOVER.MainSlogan' | translate }}</ion-title>\\r\\n  <p class=\\\"title hide-sm\\\"><span\\r\\n      [ngStyle]=\\\"{'padding-right':'7px'}\\\">CheapTrip.</span>{{'DISCOVER.MainSlogan' | translate }}</p>\\r\\n\\r\\n</ion-toolbar>\\r\\n<app-tools [isHidden]=\\\"false\\\"></app-tools>\\r\\n<!-- \\r\\n<ion-toolbar translucent>\\r\\n  <ion-buttons class=\\\"select\\\" slot=\\\"start\\\">\\r\\n    <ion-item class=\\\"select\\\" lines=\\\"none\\\">\\r\\n   \\r\\n      <ion-select value=\\\"Euro\\\" class=\\\"select\\\" interface=\\\"popover\\\" (ionChange)=\\\"onSelectCurrency($event)\\\">\\r\\n        <ion-select-option *ngFor=\\\"let cur of currencyArr\\\" [value]=\\\"cur\\\">{{cur}}</ion-select-option>\\r\\n     \\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n  </ion-buttons>\\r\\n  <ion-buttons class=\\\"select\\\" slot=\\\"end\\\">\\r\\n    <ion-item class=\\\"select\\\" lines=\\\"none\\\">\\r\\n     \\r\\n      <ion-select [value]=\\\"language\\\" class=\\\"select\\\" interface=\\\"popover\\\" (ionChange)=\\\"onSelectLang($event)\\\">\\r\\n        <ion-select-option value=\\\"en\\\">En</ion-select-option>\\r\\n        <ion-select-option value=\\\"ru\\\">Ru</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n  </ion-buttons>\\r\\n\\r\\n</ion-toolbar> -->\\r\\n\\r\\n<ion-content>\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n      <ion-card-title color=\\\"secondary\\\" class=\\\"text-center hide-xs\\\">{{'DISCOVER.MainMessage' | translate}}\\r\\n      </ion-card-title>\\r\\n      <ion-card-subtitle color=\\\"secondary\\\" class=\\\"text-center hide-sm\\\">\\r\\n        {{'DISCOVER.MainMessage' | translate}}</ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <ion-grid>\\r\\n        <ion-row class=\\\"input\\\">\\r\\n          <ion-col size=\\\"14\\\" size-md=\\\"7\\\">\\r\\n            <ion-item class=\\\"pointInpt\\\">\\r\\n              <ion-label position=\\\"floating\\\" color=\\\"secondary\\\"><b>{{'DISCOVER.From' | translate}}</b></ion-label>\\r\\n              <ion-input #ionInputStartElRef clearInput (ionChange)=\\\"onStartPointSearchChange($event)\\\"\\r\\n                [(ngModel)]=\\\"startPointCity.name\\\">\\r\\n              </ion-input>\\r\\n\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"autocomplete\\\" *ngIf=\\\"startPointCitiesAvailable\\\">\\r\\n              <ion-list style=\\\"width: 100%; max-height: 200px; overflow-y: scroll;\\\" lines=\\\"none\\\">\\r\\n                <ion-item *ngFor=\\\"let result of startPointCities\\\" (click)=\\\"startPointCitySelected(result)\\\" button>\\r\\n                  <p>{{result.name}}</p>\\r\\n                </ion-item>\\r\\n              </ion-list>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n          <!-- \\r\\n          <ion-col class=\\\"hide-xs\\\" size-md=\\\"2\\\">\\r\\n            <ion-img class=\\\"logo\\\" src=\\\"../../../assets/logo.jpg\\\"></ion-img>\\r\\n          </ion-col> -->\\r\\n\\r\\n          <ion-col size=\\\"14\\\" size-md=\\\"7\\\">\\r\\n            <ion-item class=\\\"pointInpt\\\">\\r\\n              <ion-label position=\\\"floating\\\" color=\\\"secondary\\\"><b>{{'DISCOVER.To' | translate}}</b></ion-label>\\r\\n              <ion-input #ionInputEndElRef clearInput (ionChange)=\\\"onEndPointSearchChange($event)\\\"\\r\\n                [(ngModel)]=\\\"endPointCity.name\\\">\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"autocomplete\\\" *ngIf=\\\"endPointCitiesAvailable\\\">\\r\\n              <ion-list style=\\\"width: 100%; max-height: 200px; overflow-y: scroll;\\\">\\r\\n                <ion-item *ngFor=\\\"let result of endPointCities\\\" (click)=\\\"endPointCitySelected(result)\\\" button>\\r\\n                  <p>{{result.name}}</p>\\r\\n                </ion-item>\\r\\n              </ion-list>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n          <ion-col class=\\\"buttons\\\" size-xs=\\\"12\\\" offset-xs=\\\"0\\\" offset=\\\"2\\\" size-md=\\\"8\\\" offset-md=\\\"2\\\">\\r\\n            <ion-button size=\\\"small\\\" fill=\\\"solid\\\" type=\\\"button\\\" (click)=\\\"onClearAll()\\\" color=\\\"secondary\\\">\\r\\n              {{'DISCOVER.Clear' | translate}}\\r\\n            </ion-button>\\r\\n            <ion-button size=\\\"small\\\" fill=\\\"solid\\\" type=\\\"button\\\" color=\\\"primary\\\" routerDirection=\\\"forward\\\"\\r\\n              routerLink=\\\"/places/tabs/discover/offer\\\" (click)=\\\"searchPath()\\\">{{'DISCOVER.Submit' | translate}}\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <!--  <ion-row class=\\\"hide-sm\\\"> -->\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"6\\\" offset=\\\"3\\\">\\r\\n            <ion-img class=\\\"logo\\\" src=\\\"../../../assets/logo.jpg\\\"></ion-img>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-card-content>\\r\\n\\r\\n  </ion-card>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DiscoverPage } from './discover.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DiscoverPage\n  },\n  {\n    path: 'offer',\n    loadChildren: () => import('./offer/offer.module').then( m => m.OfferPageModule)\n  },\n /*  {\n    path: 'details',\n    loadChildren: () => import('./details/details.module').then( m => m.DetailsPageModule)\n  } */\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DiscoverPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DiscoverPageRoutingModule } from './discover-routing.module';\n\nimport { DiscoverPage } from './discover.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DiscoverPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [DiscoverPage]\n})\nexport class DiscoverPageModule {}\n","export default \".logo {\\n  margin-right: 1rem;\\n}\\n\\nh3 {\\n  text-align: center;\\n  color: var --ion-color-secondary;\\n}\\n\\nion-title, p.title {\\n  font-style: italic;\\n}\\n\\n.select {\\n  --color: var(--ion-color-primary);\\n}\\n\\nion-card-title,\\nion-card-subtitle {\\n  text-align: center;\\n  line-height: 1.5rem;\\n}\\n\\nion-img {\\n  width: 100%;\\n  height: auto;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n\\nion-row.input {\\n  --ion-grid-columns: 14;\\n}\\n\\n@media (max-width: 576px) {\\n  .hide-xs {\\n    display: none;\\n  }\\n}\\n\\n@media (min-width: 576px) and (max-width: 2000px) {\\n  .hide-sm {\\n    display: none;\\n  }\\n}\\n\\n.item-has-focus {\\n  --highlight-background: var(--ion-color-primary);\\n}\\n\\nion-input {\\n  --padding-start: 1rem;\\n  --padding-top: 0.1rem;\\n  padding: 1rem;\\n}\\n\\nion-item.pointInput {\\n  --background: rgba(255, 72, 0, 0.1);\\n}\\n\\nion-label {\\n  --color: var(--ion-color-secondary);\\n}\\n\\nion-content {\\n  --keyboard-offset: 10rem;\\n}\\n\\nion-list ion-item ion-label {\\n  margin: 0px;\\n}\\n\\nion-list ion-item {\\n  --min-height: 24px;\\n  margin: 0px;\\n}\\n\\nion-item.autocomplete {\\n  position: absolute;\\n  z-index: 100;\\n}\\n\\nion-item.autocomplete ion-list ion-item p {\\n  font-size: 0.8rem;\\n}\\n\\nion-card {\\n  height: 100vh;\\n}\\n\\nion-button {\\n  margin-top: 3rem;\\n}\\n\\nion-col.buttons {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhY2VzL2Rpc2NvdmVyL2Rpc2NvdmVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGdDQUFBO0FBQ0Y7O0FBQ0E7RUFFRSxrQkFBQTtBQUNGOztBQUdBO0VBRUksaUNBQUE7QUFESjs7QUFJQTs7RUFFRSxrQkFBQTtFQUNBLG1CQUFBO0FBREY7O0FBSUE7RUFDRSxXQUFBO0VBQ0QsWUFBQTtFQUNDLHNCQUFBO0tBQUEsbUJBQUE7QUFERjs7QUFJQTtFQUNFLHNCQUFBO0FBREY7O0FBSUE7RUFDRTtJQUNFLGFBQUE7RUFERjtBQUNGOztBQUlBO0VBQ0U7SUFDRSxhQUFBO0VBRkY7QUFDRjs7QUFNQTtFQUNFLGdEQUFBO0FBSkY7O0FBT0E7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0EsYUFBQTtBQUpGOztBQU9BO0VBQ0UsbUNBQUE7QUFKRjs7QUFPQTtFQUNFLG1DQUFBO0FBSkY7O0FBTUE7RUFDRSx3QkFBQTtBQUhGOztBQU1BO0VBQ0UsV0FBQTtBQUhGOztBQU1BO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FBSEY7O0FBTUE7RUFDRSxrQkFBQTtFQUVBLFlBQUE7QUFKRjs7QUFPTTtFQUNFLGlCQUFBO0FBTFI7O0FBVUE7RUFDRSxhQUFBO0FBUEY7O0FBU0E7RUFDRSxnQkFBQTtBQU5GOztBQVNBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0FBTkYiLCJmaWxlIjoic3JjL2FwcC9wbGFjZXMvZGlzY292ZXIvZGlzY292ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ28ge1xyXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcclxufVxyXG5cclxuaDMge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBjb2xvcjogdmFyICgtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xyXG59XHJcbmlvbi10aXRsZSAsIHAudGl0bGV7XHJcbi8vICBmb250LWZhbWlseTogTGF0bywgc2Fucy1zZXJpZjtcclxuICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbn1cclxuXHJcblxyXG4uc2VsZWN0e1xyXG4gIC8vIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG59XHJcblxyXG5pb24tY2FyZC10aXRsZSxcclxuaW9uLWNhcmQtc3VidGl0bGUge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBsaW5lLWhlaWdodDogMS41cmVtO1xyXG59XHJcblxyXG5pb24taW1nIHtcclxuICB3aWR0aDogMTAwJTtcclxuIGhlaWdodDogYXV0bztcclxuICBvYmplY3QtZml0OiBjb250YWluO1xyXG59XHJcblxyXG5pb24tcm93LmlucHV0e1xyXG4gIC0taW9uLWdyaWQtY29sdW1uczogMTQ7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkge1xyXG4gIC5oaWRlLXhzIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNTc2cHgpIGFuZCAobWF4LXdpZHRoOiAyMDAwcHgpIHtcclxuICAuaGlkZS1zbSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi5pdGVtLWhhcy1mb2N1cyB7XHJcbiAgLS1oaWdobGlnaHQtYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG59XHJcblxyXG5pb24taW5wdXQge1xyXG4gIC0tcGFkZGluZy1zdGFydDogMXJlbTtcclxuICAtLXBhZGRpbmctdG9wOiAwLjFyZW07XHJcbiAgcGFkZGluZzogMXJlbTtcclxufVxyXG5cclxuaW9uLWl0ZW0ucG9pbnRJbnB1dCB7XHJcbiAgLS1iYWNrZ3JvdW5kOiByZ2JhKDI1NSwgNzIsIDAsIDAuMSk7XHJcbn1cclxuXHJcbmlvbi1sYWJlbCB7XHJcbiAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbn1cclxuaW9uLWNvbnRlbnQge1xyXG4gIC0ta2V5Ym9hcmQtb2Zmc2V0OiAxMHJlbTtcclxufVxyXG5cclxuaW9uLWxpc3QgaW9uLWl0ZW0gaW9uLWxhYmVsIHtcclxuICBtYXJnaW46IDBweDtcclxufVxyXG5cclxuaW9uLWxpc3QgaW9uLWl0ZW0ge1xyXG4gIC0tbWluLWhlaWdodDogMjRweDtcclxuICBtYXJnaW46IDBweDtcclxufVxyXG5cclxuaW9uLWl0ZW0uYXV0b2NvbXBsZXRlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblxyXG4gIHotaW5kZXg6IDEwMDtcclxuICBpb24tbGlzdCB7XHJcbiAgICBpb24taXRlbSB7XHJcbiAgICAgIHAge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmlvbi1jYXJkIHtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcbmlvbi1idXR0b24ge1xyXG4gIG1hcmdpbi10b3A6IDNyZW07XHJcbn1cclxuXHJcbmlvbi1jb2wuYnV0dG9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4iXX0= */\";","import {\r\n  Component,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\n\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { AlertController, NavController } from \"@ionic/angular\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { ICity } from \"../places.model\";\r\n\r\nimport { PlacesService } from \"../places.service\";\r\n\r\n@Component({\r\n  selector: \"app-discover\",\r\n  templateUrl: \"./discover.page.html\",\r\n  styleUrls: [\"./discover.page.scss\"],\r\n})\r\nexport class DiscoverPage implements OnInit, OnDestroy {\r\n  startPointCitiesAvailable: boolean = false;\r\n  endPointCitiesAvailable: boolean = false;\r\n  startPointCities: ICity[] = [];\r\n  endPointCities: ICity[] = [];\r\n  cleanDataSubscription: Subscription;\r\n\r\n  @ViewChild(\"ionInputStartElRef\", { read: ElementRef })\r\n  ionInputStartElRef: ElementRef;\r\n  @ViewChild(\"ionInputEndElRef\", { read: ElementRef })\r\n  ionInputEndElRef: ElementRef;\r\n\r\n  \r\n  ignoreNextStartPointChange: boolean = false;\r\n  ignoreNextEndPointChange: boolean = false;\r\n  startPointCity: ICity = { id: -1, name: \"\" };\r\n  endPointCity: ICity = { id: -1, name: \"\" };\r\n\r\n  currencyArr: any;\r\n  currentCurrency: string;language: string = \"en\";\r\n\r\n\r\n  constructor(\r\n    private placesSrv: PlacesService,\r\n    private navCtrl: NavController,\r\n    public translate: TranslateService,\r\n    private alertCtrl: AlertController\r\n  ) {\r\n    translate.addLangs([\"en\", \"ru\"]);\r\n    translate.setDefaultLang(\"en\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    const lang = this.translate.getBrowserLang();\r\n    this.currencyArr = this.placesSrv.getCurrencyArray();\r\n    this.currencyArr= this.currencyArr.map(res => res['currencyName'])\r\n  \r\n    this.currentCurrency = this.placesSrv.currentCurrency;\r\n\r\n    if (lang == \"ru\") {\r\n      this.translate.use(\"ru\");\r\n      this.language = \"ru\";\r\n    }\r\n\r\n    this.placesSrv.getAllCities();\r\n\r\n    this.cleanDataSubscription = this.placesSrv.cleanPathsSubj$.subscribe(\r\n      (_res) => {\r\n        this.onClearAll();\r\n      }\r\n    );\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.cleanDataSubscription.unsubscribe();\r\n  }\r\n\r\n  onStartPointSearchChange(event: any) {\r\n    if (event.detail.value == \"\") {\r\n      this.onClearStartPoint();\r\n    }\r\n    const substring = event.target.value;\r\n    if (this.ignoreNextStartPointChange) {\r\n      this.ignoreNextStartPointChange = false;\r\n      this.startPointCitiesAvailable = false;\r\n      return;\r\n    }\r\n    this.placesSrv.getStartPointAutocomplete(substring).subscribe((cities) => {\r\n      this.startPointCities = cities;\r\n      if (cities.length > 0) {\r\n        this.startPointCitiesAvailable = true;\r\n      } else {\r\n        this.startPointCitiesAvailable = false;\r\n        this.ionInputStartElRef.nativeElement.querySelector(\"input\").value = \"\";\r\n      }\r\n    });\r\n  }\r\n\r\n  onEndPointSearchChange(event: any) {\r\n    if (event.detail.value == \"\") {\r\n      this.onClearEndPoint();\r\n    }\r\n    const substring = event.target.value;\r\n    if (this.ignoreNextEndPointChange) {\r\n      this.ignoreNextEndPointChange = false;\r\n      this.endPointCitiesAvailable = false;\r\n      return;\r\n    }\r\n    this.placesSrv.getEndPointAutocomplete(substring).subscribe((cities) => {\r\n      this.endPointCities = cities;\r\n\r\n      if (cities.length > 0) {\r\n        this.endPointCitiesAvailable = true;\r\n      } else {\r\n        this.endPointCitiesAvailable = false;\r\n        this.ionInputEndElRef.nativeElement.querySelector(\"input\").value = \"\";\r\n      }\r\n    });\r\n  }\r\n\r\n  startPointCitySelected(city: any): void {\r\n    this.startPointCity = city;\r\n    this.ignoreNextStartPointChange = true;\r\n  }\r\n\r\n  endPointCitySelected(city: any): void {\r\n    this.endPointCity = city;\r\n    this.ignoreNextEndPointChange = true;\r\n  }\r\n\r\n  searchPath() {\r\n    this.placesSrv.getPaths(this.startPointCity, this.endPointCity);\r\n  }\r\n\r\n  onClearStartPoint() {\r\n    console.log(\"on clear start point\");\r\n    this.startPointCity = { id: -1, name: \"\" };\r\n    this.ignoreNextStartPointChange = true;\r\n    this.startPointCitiesAvailable = false;\r\n    this.startPointCities = [];\r\n  }\r\n\r\n  onClearEndPoint() {\r\n    this.endPointCity = { id: -1, name: \"\" };\r\n    this.ignoreNextEndPointChange = true;\r\n    this.endPointCitiesAvailable = false;\r\n    this.endPointCities = [];\r\n  }\r\n\r\n  onClearAll() {\r\n    this.onClearStartPoint();\r\n    this.onClearEndPoint();\r\n  }\r\n\r\n  toSearchPage() {\r\n    this.navCtrl.navigateBack(\"/places/tabs/discover\");\r\n  }\r\n \r\n onSelectLang(lang: any) {\r\n    this.translate.use(lang.detail.value);\r\n  }\r\n  onSelectCurrency(event: any) {\r\n    const cur = event[\"detail\"][\"value\"];\r\n  \r\n    this.placesSrv.getCurrencyRate(cur, true);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}